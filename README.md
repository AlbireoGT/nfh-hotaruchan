# nfh-hotaruchan
NFHサポートツール群「ほたるちゃん」

## ほたるちゃんについて
NetworkFoxHunting（NFH）向けサポートツール群です。
NFHをDiscordで開催する際に、情報をとりまとめ各方面へ展開します。

## ほたるちゃんができること
+ Discordの定時報告チャンネルに常駐します
+ チャンネルでの発言のうち、特定のロール、特定の文言のみ発言テキストを収集します
+ 収集した発言テキストはGoogleスプレッドシートへ格納します
+ 格納したデータを使って、時系列に現在地をまとめたり、地図を描画したり、SNSへ投稿したりします

## ほたるちゃんのシステム構成
処理順に記載します
+ Glitch/node.js WebSocketによるDiscordbotの常駐、データ収集とGASへのPOST
+ GAS(Google Apps Script) POSTされたデータの受領とスプシへの書き込み、データ整形、描画や投稿まで

このツールはGlitchとGASの連携で成り立っています。
完全なツールにせず、わざとGoogleスプレッドシートを挟むことで、手作業によるデータ修正を可能にしています。
利用するには少々クセがあるため（いわゆる初見殺し）、別途チュートリアルの記載も検討します。

## このリポジトリにあるソースについて
上述の利用により、GlitchとGASのソースがごちゃまぜになっています。
このリポジトリは今後のための共有用として活用しています。
※本線となるリポジトリは別で所有しています

APIキー等は、Glitchは.envに書き込み、GASはスクリプトプロパティに格納します。
本ソースを活用する時は、必ずお手持ちのキーを準備して、.envやプロパティに格納してからご利用ください。
